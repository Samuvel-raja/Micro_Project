<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
  crossorigin="anonymous"
/>
<h1 align="center">Invoice Management System</h1>
<div class="containerr-fluid">
  <form #invoiceForm="ngForm">
  <div class="row">
    <div class="col-md-6 ">

        <div class="mb-3">
          <label class="form-label">Invoice Id</label>
          <input type="number" class="form-control" placeholder="Invoice Id" name="invoiceId" #invoiceId="ngModel" ngModel required pattern="[0-9]+" >
          
          <div *ngIf="invoiceId.touched">
            <div *ngIf="invoiceId.errors?.['required']">
              <font color="red"><b>Invoice Id required</b></font>
            </div>
            <div *ngIf="invoiceId.errors?.['pattern']">
              <font color="red"><b>Invalid Id </b></font>
            </div>
          </div>
        </div>

        <div class="mb-3">
          <label  class="form-label">Invoice Date</label>
          <input type="date" class="form-control" placeholder="Invoice Date" name="invoiceDate" #invoiceDate="ngModel" ngModel required >
        
          <div *ngIf="invoiceDate.touched">
            <div *ngIf="invoiceDate.errors?.['required']">
              <font color="red"><b>Invoice Date required</b></font>
            </div>
          </div>
        </div>

        
    </div>
  
    <div class="col-md-6">
     
        <div class="mb-3">
          <label class="form-label">Customer name</label>
          <input type="text" class="form-control" placeholder="customer name" name="customerName" #customerName="ngModel" ngModel required pattern="[a-zA-Z]+">
  
          <div *ngIf="customerName.touched">
            <div *ngIf="customerName.errors?.['required']">
              <font color="red"><b>customer name required</b></font>
            </div>
            <div *ngIf="customerName.errors?.['pattern']">
              <font color="red"><b>customer name Invalid </b></font>
            </div>
          </div>

        </div>
        <div class="mb-3">
          <label  class="form-label">Customer Email</label>
          <input type="email" class="form-control" placeholder="customer email" name="customerMail" #customerMail="ngModel" ngModel required pattern="^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+$">

          <div *ngIf="customerMail.touched">
            <div *ngIf="customerMail.errors?.['required']">
              <font color="red"><b>customer email required</b></font>
            </div>
            <div *ngIf="customerMail.errors?.['pattern']">
              <font color="red"><b>Invalid customer email </b></font>
            </div>
          </div>
        </div>
      
        <div class="mb-3">
          <label  class="form-label">Customer Mobile</label>
          <input type="number" class="form-control" placeholder="customer mobile" name="customerMob" #customerMob="ngModel" ngModel required pattern="[0-9]+">
          <div *ngIf="customerMob.touched">
            <div *ngIf="customerMob.errors?.['required']">
              <font color="red"><b>customer mobile required</b></font>
            </div>
            <div *ngIf="customerMob.errors?.['pattern']">
              <font color="red"><b>Invalid customer mobile </b></font>
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label  class="form-label">Customer Location</label>
          <input type="text" class="form-control" placeholder="customer location" name="customerLoc" #customerLoc="ngModel" ngModel required pattern="[a-zA-Z]+">
          <div *ngIf="customerLoc.touched">
            <div *ngIf="customerLoc.errors?.['required']">
              <font color="red"><b>customer location required</b></font>
            </div>
            <div *ngIf="customerLoc.errors?.['pattern']">
              <font color="red"><b>Invalid customer location </b></font>
            </div>
          </div>
        </div>

    </div>
  </div>
  <div class="row">
    <div class="col-12">
        <div class="mb-3">
          <label class="form-label">Product name</label>
          <input type="text" class="form-control" placeholder="Product name" name="productName" #productName="ngModel" ngModel required pattern="[A-Za-z]+">
          <div *ngIf="productName.touched">
            <div *ngIf="productName.errors?.['required']">
              <font color="red"><b>Product name required</b></font>
            </div>
            <div *ngIf="productName.errors?.['pattern']">
              <font color="red"><b>Invalid Product name </b></font>
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label  class="form-label">Product Quantity</label>
          <input type="number" class="form-control" placeholder="Product Quantity" name="productQuantity" #productQuantity="ngModel" ngModel required pattern="[0-9]+">
          <div *ngIf="productQuantity.touched">
            <div *ngIf="productQuantity.errors?.['required']">
              <font color="red"><b>Product Quantity required</b></font>
            </div>
            <div *ngIf="productQuantity.errors?.['pattern']">
              <font color="red"><b>Invalid Product Quantity </b></font>
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label  class="form-label">Product Price</label>
          <input type="number" class="form-control" placeholder="Product price" name="productPrice" #productPrice="ngModel" ngModel required pattern="[0-9]+">
          <div *ngIf="productPrice.touched">
            <div *ngIf="productPrice.errors?.['required']">
              <font color="red"><b>productPrice required</b></font>
            </div>
            <div *ngIf="productPrice.errors?.['pattern']">
              <font color="red"><b>productPrice Invalid </b></font>
            </div>
          </div>
        </div>
        <div class="d-flex gap-2">
      <button class="btn btn-success btn-lg my-2" (click)="insertDetails(invoiceForm.value)">Add Invoice</button>
      <button class="btn btn-success btn-lg my-2" (click)="updateDetails(invoiceForm.value)">Update Invoice</button>
      <button class="btn btn-success btn-lg my-2"  (click)="deleteDetails(invoiceForm.value)">Delete Invoice</button>
      <button class="btn btn-success btn-lg my-2"  (click)="findDetails(invoiceForm.value)">Find Invoice</button>
      <button class="btn btn-success btn-lg my-2"  (click)="findallDetails()">FindAll Invoice</button>
    </div>
  
    </div>
  </div>

</form>
</div>
<div style="width: 100%;" *ngIf="flag">
  <table width="80%" align="center" style="border: 2px solid black;position:absolute;top:100%;left:10%" class="p-4 m-4">
   <tr><th>ID</th><th>Date</th><th>Customer Name</th><th>Product Name</th><th>Product Price</th></tr> 
    <tr *ngFor="let voice of invoiceArr">
        <td> {{voice.id}} </td><td> {{voice.invoiceDate}} </td><td> {{voice.customerName}} </td><td> {{voice.productName}} </td><td> {{voice.productPrice}} </td>
    </tr>
 </table>
Â </div>
<h2 align="center" style="position: absolute;top:100%;left:20%">
{{result}}
</h2>